A51 MACRO ASSEMBLER  HOMEWORK                                                             08/22/2017 14:09:20 PAGE     1


MACRO ASSEMBLER A51 V8.2.5.0
OBJECT MODULE PLACED IN .\Objects\homework.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE homework.asm SET(SMALL) DEBUG PRINT(.\Listings\homework.lst) OBJECT(.\O
                      bjects\homework.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;Toggle LED on Timer Interrupts

0000                   2     org 00h

0000 020110            3     ljmp main

                       4     

000B                   5     org 0bh

000B 020200            6     ljmp isr1

                       7     

0100                   8     org 100h

0100                   9     toggle_led:                                     ;Input parameter at 4FH => Timer Count 

0100 758901           10             mov TMOD,#01H

0103 75A882           11             mov IE,#82H

0106 759000           12             mov P1,#00H

0109 A84F             13             mov r0,4FH

                      14             

010B C28D             15             clr tf0

010D D28C             16             setb tr0                                ;Starting the timer

                      17             

010F 22               18     ret

                      19     

                      20     

0110                  21     main:

0110 754F0F           22             mov 4FH,#15                             ;At 16 the timer is close to 1 second

0113 3100             23             acall toggle_led

0115 80FE             24             stop: sjmp stop

                      25             

0200                  26     org 200h

0200                  27     isr1:

0200 D804             28             djnz r0,skip

0202 B297             29             cpl P1.7

0204 A84F             30             mov r0,4FH

0206                  31             skip:

0206 32               32                     reti

                      33     

                      34     end

A51 MACRO ASSEMBLER  HOMEWORK                                                             08/22/2017 14:09:20 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

IE . . . . . . . .  D ADDR   00A8H   A   
ISR1 . . . . . . .  C ADDR   0200H   A   
MAIN . . . . . . .  C ADDR   0110H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
SKIP . . . . . . .  C ADDR   0206H   A   
STOP . . . . . . .  C ADDR   0115H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TMOD . . . . . . .  D ADDR   0089H   A   
TOGGLE_LED . . . .  C ADDR   0100H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
